{"openapi":"3.0.0","info":{"title":"S-transcode-channel","description":"","version":"1.0","contact":{}},"tags":[],"servers":[{"url":""}],"components":{"schemas":{"InputDataDto":{"type":"object","properties":{"name":{"type":"string","description":"Tên của profile"},"description":{"type":"string","description":"Mô tả kênh"},"type":{"type":"string","description":"Loại của nguồn đầu vào mong muốn","default":"UDP","enum":["RTMP","HLS","UDP"]},"class":{"type":"string","description":"Chế độ nguồn đầu vào, single, redundancy","default":"single","enum":["single","redundancy"]},"primary":{"type":"string","description":"Thông tin nguồn đầu vào thứ nhất"},"primaryNetworkInterface":{"type":"string","description":"Card mạng tiếp thu nguồn đầu vào thứ nhất"},"secondary":{"type":"string","description":"Thông tin nguồn đầu vào thứ 2"},"secondaryNetworkInterface":{"type":"string","description":"Card mạng tiếp thu nguồn đầu vào thứ hai"}},"required":["name","type","class","primary"]},"Manifest":{"type":"object","properties":{"ts":{"type":"number","minimum":2,"maximum":10,"description":"Độ dài của segment tính bằng giây","default":6},"enableTime":{"type":"boolean","description":"chèn timestamp vào playlist","default":false},"appendList":{"type":"boolean","description":"chèn timestamp vào playlist","default":false},"count":{"type":"number","minimum":1,"maximum":50,"description":"số segment giữ trong file playlist","default":10},"containerType":{"type":"string","description":"Định dạng tệp tin segment","enum":["mpeg-ts","fmp4"],"default":"mpeg-ts"}},"required":["ts","count","containerType"]},"CatchupDto":{"type":"object","properties":{"enable":{"type":"boolean","description":"Bật tắt chế độ catchup, time-shifting","default":false},"timeCache":{"type":"number","minimum":6,"maximum":720,"description":"Thời gian lưu trữ tối đa của catchup, time-shifting, tính theo giờ","title":"Thời gian lưu trữ","example":12}},"required":["enable"]},"DrmDto":{"type":"object","properties":{"enable":{"type":"boolean","description":"bật tắt chế độ drm","default":false},"keyProvider":{"type":"string","enum":["static","sigma-drm-v1","sigma-drm","sigma-multi-drm"],"description":"Phương thức cung cấp key mã hoá, tĩnh hoặc lấy từ server chứa key mã hoá","default":"sigma-drm"},"key":{"type":"string","description":"Key mã hoá tĩnh đã được encode dưới dạng base 64","default":""},"keyId":{"type":"string","description":"KeyId mã hoá tĩnh đã được encode dưới dạng base 64","default":""},"keyUri":{"type":"string","description":"Đường dẫn keyUri được đặt vào tập tin manifest .m3u8","default":""},"assetId":{"type":"string","minLength":1,"maxLength":100,"description":"Id sử dụng cho hệ thống drm mã hoá kênh, sử dụng cho sigma drm hoặc sigma multi drm","default":""},"appId":{"type":"string","description":"AppId của hệ thông sigma drm,sigma multi drm","default":""},"merchantId":{"type":"string","description":"MerchantId của hệ thông sigma drm,sigma multi drm","default":""},"email":{"type":"string","description":"user đăng nhập hệ thống sigma drm,sigma multi drm","default":""},"password":{"type":"string","description":"password hệ thống sigma drm,sigma multi drm","default":""}},"required":["enable","keyProvider","merchantId","email","password"]},"LowLatencyDto":{"type":"object","properties":{"enable":{"type":"boolean","description":"Bật tắt chế độ low latency","default":false},"mode":{"type":"string","description":"Chế độ của độ trễ thấp khi phát lại. hỗ trợ low latency (6-8s) và ultra low latency(2-4s)","enum":["low-latency","ultra-low-latency"],"default":"low-latency"}},"required":["enable"]},"TargetDataDto":{"type":"object","properties":{"name":{"type":"string","minLength":1,"maxLength":200,"description":"Tên của đầu ra mong muốn","pattern":"/^[a-zA-Z0-9_-]*$/"},"nameModifier":{"type":"string","minLength":0,"maxLength":50,"description":"Tên thêm vào cuối tập tin manifest, phải là duy nhất đối với các đầu ra khác nhau cùng loại HLS hoặc DASH, phục vụ việc tạo đường dẫn duy nhất cho các tập tin manifest của HLS hoặc DASH, nên được bắt đầu bằng dấu \"_\" hoặc \"-\"","pattern":"/^[a-zA-Z0-9_-]*$/"},"description":{"type":"string","description":"Mô tả đầu ra mong muốn","minLength":1,"maxLength":200},"format":{"type":"string","enum":["hls","dash","udp","rtmp"],"description":"Định dạng của đầu ra"},"url":{"type":"string","description":"đường dẫn đầu ra của luông format udp mpegts"},"manifest":{"$ref":"#/components/schemas/Manifest"},"catchup":{"$ref":"#/components/schemas/CatchupDto"},"drm":{"$ref":"#/components/schemas/DrmDto"},"lowLatency":{"$ref":"#/components/schemas/LowLatencyDto"}},"required":["name","format","manifest","catchup","drm","lowLatency"]},"TargetProfileDto":{"type":"object","properties":{"id":{"type":"string"},"catchup":{"type":"boolean","description":"Bật tắt catchup ở luồng profile này","default":true},"uri":{"type":"string","description":"uri đầu ra tương ứng với các format udp, rtmp"}},"required":["id","catchup"]},"TargetDto":{"type":"object","properties":{"enable":{"type":"boolean"},"data":{"$ref":"#/components/schemas/TargetDataDto"},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/TargetProfileDto"}},"id":{"type":"string"}},"required":["enable","data","profiles","id"]},"PresetDto":{"type":"object","properties":{"type":{"enum":["video","audio","data"],"type":"string","description":"phân loại preset"},"codec":{"type":"string","description":"Bộ mã của video","enum":["h264","h265","copy","aac","ac3","eac3","mp2"]},"bitrate":{"type":"number","description":"Giá trị bitrate","minimum":64000,"maximum":6000000},"description":{"type":"string","description":"mô tả tuỳ chỉnh của đầu ra"},"option":{"type":"string","description":"tuỳ chọn dành cho preset"},"sampleRate":{"type":"number","description":"audio only","enum":[44100,48000]},"channel":{"type":"number","description":"audio only","enum":[1,2,6]},"profile":{"enum":["aac_low","aac_he","aac_he_v2","aac_main","aac_ld","aac_eld"],"type":"string","description":"audio only"},"volume":{"enum":["+5dB","-10dB","0.5","2","loudnorm"],"type":"string","description":" audio only\n    thay đổi volume từ luồng gốc: \n      + \"+5dB\", \"-10dB\": thay đổi 1 lượng)\n      + 0.5, 2 : giảm 1 nửa, gấp đôi\n      + \"loudnorm\": tự động theo chuẩn EBU R128\n    "},"fps":{"type":"number","minimum":10,"maximum":60,"description":"video only. Giá trị khung hình trên giây (Frame per second). Giá trị này không thể lớn hơn giá trị fps của luồng đầu vào"},"height":{"type":"number","minimum":0,"maximum":1080,"description":"video only. Giá trị độ cao của video của luồng đầu ra, dựa trên pixel. Đối với phần lớn bộ mã video bạn có thể để trống, chiều cao của video sẽ tương ứng với nguồn đầu vào. Tuy nhiên, việc này không được khuyến khích"},"width":{"type":"number","minimum":0,"maximum":1920,"description":"video only. Giá trị độ rộng của video của luồng đầu ra, dựa trên pixel. Đối với phần lớn bộ mã video bạn có thể để trống, chiều rộng của video sẽ tương ứng với nguồn đầu vào. Tuy nhiên, việc này không được khuyến khích"},"cbr":{"type":"boolean","description":"video only. bật chế độ constant bitrate"},"pixelFormat":{"enum":["yuv420p","yuv444p","yuv420p10le","yuv444p10le"],"type":"string","description":"video only"},"scaleType":{"enum":["fitWidth","fitHeight","fitInside","fitCrop","fitBoth","source"],"type":"string","description":"video only, (chú ý: nếu để width, height, scaleType trong option tổng, nguồn sẽ scale trước khi xử lý tiếp theo)"},"cq":{"type":"number","minimum":0,"maximum":51,"description":"video only, chế độ constant quality"},"interlaced":{"type":"boolean","description":"video only, chế độ video interlaced"},"id":{"type":"string","default":"e77b5aa7-91f5-4eb4-bdc6-b9fe7fb24468"},"name":{"type":"string"}},"required":["id","name"]},"Watermark":{"type":"object","properties":{"x":{"type":"number","minimum":-1920,"maximum":1920,"description":"tọa độ trên video"},"y":{"type":"number","minimum":-1080,"maximum":1080,"description":"tọa độ trên video"},"id":{"type":"string","description":"định danh để bật tắt"},"delay":{"type":"number","minimum":0,"maximum":120,"description":"số giây dừng giữa 2 lần loop, dùng cho watermark động"},"enable":{"type":"boolean","description":"ẩn hoặc hiện, có thể điều khiển bằng api"},"url":{"type":"string","description":"đường dẫn asset watermark"}},"required":["x","y","id","delay","enable","url"]},"ProfileDto":{"type":"object","properties":{"id":{"type":"string"},"sourceIndex":{"type":"number","description":"index của input sử dụng cho profile này"},"name":{"type":"string","description":"Tên của profile"},"nameModifier":{"type":"string","minLength":1,"maxLength":50,"description":"Tên , phải là duy nhất với từng kênh trong hệ thống","pattern":"/^[a-zA-Z0-9_-]*$/"},"presets":{"type":"array","items":{"$ref":"#/components/schemas/PresetDto"}},"watermark":{"$ref":"#/components/schemas/Watermark"}},"required":["id","name","nameModifier","presets","watermark"]},"InputDto":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"BlackoutSlate":{"type":"object","properties":{"enable":{"type":"boolean","description":"bật tắt chế độ blackout","default":false},"input":{"type":"string","description":"hình ảnh hiển thị khi mất tín hiệu"}},"required":["input"]},"ChannelConfigAdvanceInfoDto":{"type":"object","properties":{"x":{"type":"number","minimum":-1920,"maximum":1920,"default":0,"description":"từ top-left nếu duơng, từ bottom-right nếu âm(default 0 = giữa màn hình)"},"y":{"type":"number","minimum":-1080,"maximum":1080,"default":0,"description":"từ top-left nếu duơng, từ bottom-right nếu âm(default 0 = giữa màn hình)"},"font":{"type":"string","default":"font/default.ttf","description":"đuờng dẫn file font, hỗ trợ cả http, default font/default.ttf"},"size":{"type":"number","default":30,"description":"font size, base trên fullhd(default 30)"},"box":{"type":"boolean","description":"kích padding của background box pixel(default 0 = disable)"},"border":{"type":"number","default":1,"description":"kích thước border pixel(default 1)"},"color":{"type":"string","default":"#ffffff99","description":"màu chữ rgba, default #ffffff99"},"boxColor":{"type":"string","default":"#00000066","description":"màu box rgba, default #00000066"},"borderColor":{"type":"string","default":"##00000099","description":"màu border rgba, default #00000099"}}},"ChannelConfigAdvanceDto":{"type":"object","properties":{"syncCopy":{"type":"boolean","description":"đồng bộ luồng copy và transcode","default":false},"timeout":{"type":"number","minimum":2,"maximum":10,"default":6,"description":"ngắt luồng nếu bị dừng ở input, output, transcode"},"syncStream":{"type":"number","minimum":1,"default":1,"description":"ngắt luồng nếu bị dừng ở input, output, transcode"},"gpu":{"type":"number","minimum":-1,"description":"ghi đè gpu ở config"},"xerror":{"type":"boolean","description":"reset kênh nếu phát hiện gói tin có khả năng gây lỗi","default":false},"maxSpeed":{"type":"number","minimum":0.1,"maximum":10,"default":1.1,"description":"tốc độ kênh tối đa"},"loop":{"type":"number","minimum":0,"description":"số lần loop file"},"limitInput":{"type":"number","minimum":256,"maximum":2048,"default":1024,"description":"số gói tin hàng đợi tối đa khi xử lý bị chậm"},"copyts":{"type":"boolean","description":"copy timestamp từ luồng gốc, mặc định bật cho kênh chỉ băm","default":false},"fixAac":{"type":"boolean","description":"xử lý gói tin aac bị lỗi(gây dừng player trên smarttv)","default":false},"preload":{"type":"boolean","description":"chuẩn hóa lại video trước khi chạy pre event bằng video","default":false},"id3":{"type":"boolean","description":"add luồng id3 vào các output hls ts","default":false},"info":{"description":"vẽ thông tin lên video","allOf":[{"$ref":"#/components/schemas/ChannelConfigAdvanceInfoDto"}]}}},"ChannelConfigDto":{"type":"object","properties":{"watermark":{"description":"watermark chung cho kênh, nếu nhiều dùng array","type":"array","items":{"$ref":"#/components/schemas/Watermark"}},"blackout":{"$ref":"#/components/schemas/BlackoutSlate"},"option":{"$ref":"#/components/schemas/ChannelConfigAdvanceDto"},"nameModifier":{"type":"string","minLength":1,"maxLength":50,"description":"Tên thay thế của kênh, phải là duy nhất đối với toàn bộ hệ thống, phục vụ việc tạo đường dẫn ngắn cho các tập tin manifest","pattern":"/^[a-zA-Z0-9_-]*$/"},"assetId":{"type":"string","minLength":0,"maxLength":50,"description":"Định danh của kênh, phục vụ việc tạo đường dẫn ngắn cho các tập tin manifest hoặc phục vụ việc xác định kênh đối với hệ thống DRM","pattern":"/^[a-zA-Z0-9_-]*$/"}},"required":["watermark","blackout","option","nameModifier"]},"CreateChannelDto":{"type":"object","properties":{"name":{"type":"string","description":"Tên của kênh"},"description":{"type":"string","description":"Mô tả kênh"},"tag":{"default":[],"description":"tag đánh dấu kênh","type":"array","items":{"type":"string"}},"type":{"enum":["transcode","package"],"type":"string","description":"loại kênh"},"targets":{"description":"Đầu ra của kênh","type":"array","items":{"$ref":"#/components/schemas/TargetDto"}},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/ProfileDto"}},"inputs":{"type":"array","items":{"$ref":"#/components/schemas/InputDto"}},"channelConfig":{"$ref":"#/components/schemas/ChannelConfigDto"}},"required":["name","type","targets","profiles","inputs","channelConfig"]},"TargetUpdateDto":{"type":"object","properties":{"enable":{"type":"boolean"},"data":{"$ref":"#/components/schemas/TargetDataDto"},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/TargetProfileDto"}},"id":{"type":"string"}},"required":["enable","data","profiles","id"]},"WatermarkUpdateDto":{"type":"object","properties":{"x":{"type":"number","minimum":-1920,"maximum":1920,"description":"tọa độ trên video"},"y":{"type":"number","minimum":-1080,"maximum":1080,"description":"tọa độ trên video"},"id":{"type":"string","description":"định danh để bật tắt"},"delay":{"type":"number","minimum":0,"maximum":120,"description":"số giây dừng giữa 2 lần loop, dùng cho watermark động"},"enable":{"type":"boolean","description":"ẩn hoặc hiện, có thể điều khiển bằng api"},"url":{"type":"string","description":"đường dẫn asset watermark"}},"required":["x","y","id","delay","enable","url"]},"ChannelConfigUpdateDto":{"type":"object","properties":{"blackout":{"$ref":"#/components/schemas/BlackoutSlate"},"option":{"$ref":"#/components/schemas/ChannelConfigAdvanceDto"},"nameModifier":{"type":"string","minLength":1,"maxLength":50,"description":"Tên thay thế của kênh, phải là duy nhất đối với toàn bộ hệ thống, phục vụ việc tạo đường dẫn ngắn cho các tập tin manifest","pattern":"/^[a-zA-Z0-9_-]*$/"},"assetId":{"type":"string","minLength":0,"maxLength":50,"description":"Định danh của kênh, phục vụ việc tạo đường dẫn ngắn cho các tập tin manifest hoặc phục vụ việc xác định kênh đối với hệ thống DRM","pattern":"/^[a-zA-Z0-9_-]*$/"},"watermark":{"description":"watermark chung cho kênh, nếu nhiều dùng array","type":"array","items":{"$ref":"#/components/schemas/WatermarkUpdateDto"}}},"required":["blackout","option","nameModifier","watermark"]},"UpdateChannelDto":{"type":"object","properties":{"name":{"type":"string","description":"Tên của kênh"},"description":{"type":"string","description":"Mô tả kênh"},"tag":{"default":[],"description":"tag đánh dấu kênh","type":"array","items":{"type":"string"}},"type":{"enum":["transcode","package"],"type":"string","description":"loại kênh"},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/ProfileDto"}},"inputs":{"type":"array","items":{"$ref":"#/components/schemas/InputDto"}},"targets":{"description":"Đầu ra của kênh","allOf":[{"$ref":"#/components/schemas/TargetUpdateDto"}]},"channelConfig":{"$ref":"#/components/schemas/ChannelConfigUpdateDto"}},"required":["name","type","profiles","inputs","targets","channelConfig"]},"InputProgram":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"bitrate":{"type":"number"},"startTime":{"type":"number"},"codec":{"type":"string"},"width":{"type":"number"},"height":{"type":"number"}},"required":["id","type","bitrate","startTime","codec","width","height"]},"ChannelDetailInput":{"type":"object","properties":{"url":{"type":"string"},"program":{"$ref":"#/components/schemas/InputProgram"},"bitrate":{"type":"number"}},"required":["url","program","bitrate"]},"ChannelJobDetail":{"type":"object","properties":{"id":{"type":"string","description":"id của job"},"state":{"enum":["preparing","starting","started","error","stop"],"type":"string"},"speed":{"type":"number"},"created":{"type":"string"},"startup":{"type":"string"},"life":{"type":"string"},"pts":{"type":"string"},"error":{"type":"array","items":{"type":"string"}}}},"ChannelDetailTranscode":{"type":"object","properties":{"profiles":{"type":"array","items":{"type":"string"}},"job":{"$ref":"#/components/schemas/ChannelJobDetail"}}},"ChannelDetailCatchupDto":{"type":"object","properties":{"timeExpire":{"type":"number"},"job":{"$ref":"#/components/schemas/ChannelJobDetail"}}},"ChannelDetailPackage":{"type":"object","properties":{"format":{"type":"string"},"profiles":{"type":"array","items":{"type":"string"}},"catchup":{"$ref":"#/components/schemas/ChannelDetailCatchupDto"},"job":{"$ref":"#/components/schemas/ChannelJobDetail"}},"required":["format","profiles"]},"ChannelDetailDto":{"type":"object","properties":{"id":{"type":"string","description":"channelId"},"type":{"type":"string"},"status":{"type":"string"},"inputs":{"$ref":"#/components/schemas/ChannelDetailInput"},"transcode":{"$ref":"#/components/schemas/ChannelDetailTranscode"},"packages":{"type":"array","items":{"$ref":"#/components/schemas/ChannelDetailPackage"}}},"required":["id","type","status","inputs","transcode","packages"]},"TargetTemplateDto":{"type":"object","properties":{"enable":{"type":"boolean"},"data":{"$ref":"#/components/schemas/TargetDataDto"},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/TargetProfileDto"}},"id":{"type":"string"}},"required":["enable","data","profiles","id"]},"ChannelConfigTemplateDto":{"type":"object","properties":{"watermark":{"description":"watermark chung cho kênh, nếu nhiều dùng array","type":"array","items":{"$ref":"#/components/schemas/Watermark"}},"blackout":{"$ref":"#/components/schemas/BlackoutSlate"},"option":{"$ref":"#/components/schemas/ChannelConfigAdvanceDto"},"assetId":{"type":"string","minLength":0,"maxLength":50,"description":"Định danh của kênh, phục vụ việc tạo đường dẫn ngắn cho các tập tin manifest hoặc phục vụ việc xác định kênh đối với hệ thống DRM","pattern":"/^[a-zA-Z0-9_-]*$/"}},"required":["watermark","blackout","option"]},"ChannelTemplateDataDto":{"type":"object","properties":{"type":{"enum":["transcode","package"],"type":"string","description":"loại kênh"},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/ProfileDto"}},"targets":{"description":"Đầu ra của kênh","type":"array","items":{"$ref":"#/components/schemas/TargetTemplateDto"}},"channelConfig":{"$ref":"#/components/schemas/ChannelConfigTemplateDto"}},"required":["type","profiles","targets","channelConfig"]},"ChannelTemplateDto":{"type":"object","properties":{"name":{"type":"string","description":"Tên của template"},"description":{"type":"string","description":"mô tả của template"},"tag":{"description":"tag của template","type":"array","items":{"type":"string"}},"type":{"type":"string","enum":["transcode","package"],"description":"loại của template, package hoặc transcode"},"data":{"description":"dữ liệu của template","allOf":[{"$ref":"#/components/schemas/ChannelTemplateDataDto"}]}},"required":["name","type","data"]},"InputStatDto":{"type":"object","properties":{"total":{"type":"number"}}},"ChannelStatsDto":{"type":"object","properties":{"total":{"type":"number"},"transcode":{"type":"number"},"package":{"type":"number"},"drm":{"type":"number"},"lowLatency":{"type":"number"},"catchup":{"type":"number"}}},"JobStatsDto":{"type":"object","properties":{"started":{"type":"number"},"starting":{"type":"number"},"preparing":{"type":"number"},"error":{"type":"number"},"transcode":{"type":"number"},"catchup":{"type":"number"},"package":{"type":"number"}}},"StatsDto":{"type":"object","properties":{"input":{"$ref":"#/components/schemas/InputStatDto"},"channel":{"$ref":"#/components/schemas/ChannelStatsDto"},"job":{"$ref":"#/components/schemas/JobStatsDto"}}},"InteractivePublishDto":{"type":"object","properties":{"data":{"type":"string","minLength":1}},"required":["data"]}}},"paths":{"/api/transcode/inputs/actions/get-info":{"get":{"operationId":"InputController_getInfo","parameters":[{"name":"inputId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["inputs"]}},"/api/transcode/inputs":{"get":{"operationId":"InputController_listInput","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"perPage","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["inputs"]},"post":{"operationId":"InputController_createInput","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputDataDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["inputs"]}},"/api/transcode/inputs/{inputId}":{"get":{"operationId":"InputController_getInput","parameters":[{"name":"inputId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["inputs"]},"put":{"operationId":"InputController_updateInput","parameters":[{"name":"inputId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputDataDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["inputs"]},"delete":{"operationId":"InputController_deleteInput","parameters":[{"name":"inputId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["inputs"]}},"/api/transcode/channels/actions/stop":{"put":{"operationId":"ChannelController_stopMultiChannel","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels/actions/start":{"put":{"operationId":"ChannelController_startMultiChannel","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels":{"post":{"operationId":"ChannelController_createChannel","parameters":[{"name":"start","required":true,"in":"query","schema":{"type":"boolean"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChannelDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]},"get":{"operationId":"ChannelController_listChannel","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"perPage","required":true,"in":"query","schema":{"type":"number"}},{"required":false,"description":"Tìm kiếm theo tên","name":"name","in":"query","schema":{"type":"string"}},{"required":false,"description":"Tìm kiếm theo loại","name":"type","in":"query","schema":{"enum":["transcode","package"],"type":"string"}},{"required":false,"description":"Tìm kiếm theo trạng thái của kênh","name":"status","in":"query","schema":{"enum":["error","live","stop"],"type":"string"}},{"required":false,"description":"Tìm kiếm kênh theo job state","name":"job-state","in":"query","schema":{"enum":["preparing","starting","started","error","stop"],"type":"string"}}],"responses":{"200":{"description":""}},"tags":["channels"]}},"/api/transcode/channels/count":{"get":{"operationId":"ChannelController_countChannel","parameters":[{"required":false,"description":"Tìm kiếm theo tên","name":"name","in":"query","schema":{"type":"string"}},{"required":false,"description":"Tìm kiếm theo loại","name":"type","in":"query","schema":{"enum":["transcode","package"],"type":"string"}},{"required":false,"description":"Tìm kiếm theo trạng thái của kênh","name":"status","in":"query","schema":{"enum":["error","live","stop"],"type":"string"}},{"required":false,"description":"Tìm kiếm kênh theo job state","name":"job-state","in":"query","schema":{"enum":["preparing","starting","started","error","stop"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels/{channelId}":{"get":{"operationId":"ChannelController_getChannel","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]},"put":{"operationId":"ChannelController_updateChannel","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChannelDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]},"delete":{"operationId":"ChannelController_deleteChannel","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/actions/stop":{"put":{"operationId":"ChannelController_stopChannel","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/actions/start":{"put":{"operationId":"ChannelController_startChannel","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/actions/reset":{"put":{"operationId":"ChannelController_resetChannel","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/jobs/{jobId}/stop":{"put":{"operationId":"ChannelController_stopJob","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}},{"name":"jobId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/jobs/{jobId}/start":{"put":{"operationId":"ChannelController_startJob","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}},{"name":"jobId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/jobs/{jobId}/reset":{"put":{"operationId":"ChannelController_resetJob","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}},{"name":"jobId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/detail":{"get":{"operationId":"ChannelController_getDetail","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChannelDetailDto"}}}}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/output":{"get":{"operationId":"ChannelController_getOutput","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["channels"]}},"/api/transcode/channels/{channelId}/job-config/{jobId}":{"get":{"operationId":"ChannelController_getJobConfig","parameters":[{"name":"channelId","required":true,"in":"path","schema":{"type":"string"}},{"name":"jobId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["channels"]}},"/api/transcode/templates":{"get":{"operationId":"TemplateController_listTemplate","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"perPage","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["templates"]},"post":{"operationId":"TemplateController_createTemplate","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChannelTemplateDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["templates"]}},"/api/transcode/templates/{templateId}":{"get":{"operationId":"TemplateController_getTemplate","parameters":[{"name":"templateId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["templates"]},"put":{"operationId":"TemplateController_updateTemplate","parameters":[{"name":"templateId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChannelTemplateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["templates"]},"delete":{"operationId":"TemplateController_deleteTemplate","parameters":[{"name":"templateId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["templates"]}},"/api/transcode/stats":{"get":{"operationId":"StatsController_getStats","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"undefined":{"description":"Lấy thông tin stats của hệ thóng transcode, package","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsDto"}}}}}}},"/api/transcode/interactive/{livestreamId}":{"post":{"operationId":"InteractiveController_publish","parameters":[{"name":"livestreamId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InteractivePublishDto"}}}},"responses":{"201":{"description":""}}}},"/api/transcode/health":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}}}}}}}}}}}}}