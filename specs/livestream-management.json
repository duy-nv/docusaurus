{"openapi":"3.0.0","info":{"title":"Interactive Livestream Campaign Service","description":"<table>\n  <thead>\n    <tr>\n      <th>Sự kiện</th>\n      <th>Metadata</th>\n      <th><ul>Mô tả</ul></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>poll</td>\n      <td>null</td>\n      <td><ul>không</ul></td>\n    </tr>\n    <tr>\n      <td>trivia</td>\n      <td>\n        <code>\n          {                                                     \n            strategy: immediate|async,                \n            questions: string[],                \n            answers: string[]               \n          }\n        </code>\n      </td>\n      <td>\n        <ul>\n          <li>\n            Số lượng câu hỏi phải bằng số lượng câu trả lời\n          </li>\n          <li>\n            strategy có 2 loại là immediate và async. \n            <ul>\n              <li>immediate: khi người dùng nhập đáp án, kết quả sẽ trả về ngay lập tức. </li>\n              <li>async: đáp án chỉ trả về khi người dùng đã nhập tất cả đáp án</li>\n            </ul>\n          </li>\n        </ul>\n      </td>\n    </tr>\n  </tbody>\n</table>\n","version":"1.0","contact":{}},"tags":[],"servers":[{"url":""}],"components":{"schemas":{"HtmlBundle":{"type":"object","properties":{"js":{"type":"string","description":"javascript"},"css":{"type":"string","description":"cascading style sheets"}},"required":["js"]},"OverlayFilterItem":{"type":"object","properties":{"os":{"type":"array","items":{"type":"string"}},"excludeUserIds":{"type":"array","items":{"type":"string"}}},"required":["os","excludeUserIds"]},"OverlayFilters":{"type":"object","properties":{"exclude":{"$ref":"#/components/schemas/OverlayFilterItem"},"include":{"$ref":"#/components/schemas/OverlayFilterItem"}},"required":["exclude","include"]},"CreateOverlayDto":{"type":"object","properties":{"name":{"type":"string","description":"name of overlay"},"thumbBase64":{"type":"string","description":"thumb image base64"},"livestreamId":{"type":"string","description":"livestreamId to publish"},"metadata":{"type":"string","description":"metadata passing to the overlays (can be treated like a config)"},"htmlBundle":{"allOf":[{"$ref":"#/components/schemas/HtmlBundle"},{"description":"html to show in overlay"}]},"type":{"type":"string","description":"type of overlay","enum":["poll","trivia","lower_third","extension","prediction"]},"state":{"type":"string","description":"state of overlay","enum":["PENDING","PUBLISHED","SCHEDULED_INTERVAL","SCHEDULED_TIMEOUT"]},"filters":{"allOf":[{"$ref":"#/components/schemas/OverlayFilters"},{"description":"state of overlay"}]},"duration":{"type":"number","description":"number of miliseconds define how long overlay should show in screen, default: -1 (last forever)","examples":[-1,0,3000,5000]},"instantShow":{"type":"boolean","description":"should display overlay immediately regardless how much buffer in client","default":false}},"required":["name","thumbBase64","livestreamId","metadata","htmlBundle","type","state","filters"]},"UpdateOverlayDto":{"type":"object","properties":{"state":{"type":"string","description":"state of overlay, change this value to publish allow publish overlay","enum":["PUBLISHED","PENDING","ERROR","FINISHED","DELETED"]},"htmlBundle":{"allOf":[{"$ref":"#/components/schemas/HtmlBundle"},{"description":"html to show in overlay"}]},"metadata":{"type":"string","description":"metadata passing to the overlays (can be treated like a config)"}}},"CreateLibraryDto":{"type":"object","properties":{"name":{"type":"string","description":"name of library"},"type":{"type":"string","description":"type of overlay. (this type is client type overlay)"},"data":{"type":"string","description":"content data for overlay"},"metadata":{"type":"string","description":"addition for overlay publish form"},"publishForm":{"type":"string","description":"addition for overlay publish form"},"idCategory":{"type":"string"}},"required":["name","type","data","metadata","publishForm"]},"UpdateLibraryDto":{"type":"object","properties":{"name":{"type":"string","description":"name of library"},"type":{"type":"string","description":"type of overlay. (this type is client type overlay)"},"data":{"type":"string","description":"content data for overlay"},"metadata":{"type":"string","description":"addition for overlay publish form"},"publishForm":{"type":"string","description":"addition for overlay publish form"},"idCategory":{"type":"string"}}},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"CreatePlanDto":{"type":"object","properties":{"name":{"type":"string","description":"name of the plan","example":"thời sự"},"description":{"type":"string","description":"description of the plan"},"overlays":{"description":"list of overlays","type":"array","items":{"$ref":"#/components/schemas/CreateOverlayDto"}}},"required":["name","description","overlays"]}}},"paths":{"/ilp-campaign-service/v1/health":{"get":{"operationId":"HealthController_getHealth","parameters":[],"responses":{"200":{"description":""}},"tags":["health"]}},"/ilp-campaign-service/v1/overlays":{"get":{"operationId":"OverlaysController_getByIds","parameters":[{"name":"ids","required":true,"in":"query","schema":{"type":"string"}},{"name":"full","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":""}},"tags":["overlays"]},"post":{"operationId":"OverlaysController_create","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOverlayDto"}}}},"responses":{"201":{"description":""}},"tags":["overlays"]}},"/ilp-campaign-service/v1/overlays/{id}":{"get":{"operationId":"OverlaysController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"full","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":""}},"tags":["overlays"]},"patch":{"operationId":"OverlaysController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOverlayDto"}}}},"responses":{"200":{"description":""}},"tags":["overlays"]}},"/ilp-campaign-service/v1/overlays/livestream/{livestreamId}":{"get":{"operationId":"OverlaysController_getByLivestreamId","parameters":[{"name":"livestreamId","required":true,"in":"path","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit","schema":{"default":10,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset","schema":{"default":0,"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"default":1,"type":"number"}},{"name":"full","required":false,"in":"query","description":"full","schema":{"default":false,"type":"boolean"}},{"name":"type","required":false,"in":"query","description":"overlay type","schema":{"type":"string"}},{"name":"state","required":false,"in":"query","description":"state","schema":{"enum":["PUBLISHED","PENDING","ERROR","FINISHED","DELETED","SCHEDULED_INTERVAL","SCHEDULED_TIMEOUT"],"type":"string"}},{"name":"from","required":false,"in":"query","description":"filter createdAt > this value","schema":{"type":"number"}},{"name":"to","required":false,"in":"query","description":"filter createdAt < this value","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["overlays"]}},"/ilp-campaign-service/v1/overlays/plan/{planId}":{"get":{"operationId":"OverlaysController_getByPlanId","parameters":[{"name":"planId","required":true,"in":"path","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit","schema":{"default":10,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset","schema":{"default":0,"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"default":1,"type":"number"}},{"name":"full","required":false,"in":"query","description":"full","schema":{"default":false,"type":"boolean"}},{"name":"type","required":false,"in":"query","description":"overlay type","schema":{"type":"string"}},{"name":"state","required":false,"in":"query","description":"state","schema":{"enum":["PUBLISHED","PENDING","ERROR","FINISHED","DELETED","SCHEDULED_INTERVAL","SCHEDULED_TIMEOUT"],"type":"string"}},{"name":"from","required":false,"in":"query","description":"filter createdAt > this value","schema":{"type":"number"}},{"name":"to","required":false,"in":"query","description":"filter createdAt < this value","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["overlays"]}},"/ilp-campaign-service/v1/overlays/{id}/repush":{"put":{"operationId":"OverlaysController_repush","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["overlays"]}},"/ilp-campaign-service/v1/libraries":{"get":{"operationId":"LibrariesController_getAll","parameters":[{"name":"limit","required":false,"in":"query","description":"limit","schema":{"default":10,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset","schema":{"default":0,"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"default":1,"type":"number"}},{"name":"name","required":true,"in":"query","schema":{"type":"string"}},{"name":"type","required":true,"in":"query","schema":{"type":"string"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["libraries"]},"post":{"operationId":"LibrariesController_create","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLibraryDto"}}}},"responses":{"201":{"description":""}},"tags":["libraries"]}},"/ilp-campaign-service/v1/libraries/search":{"get":{"operationId":"LibrariesController_search","parameters":[{"name":"text","required":true,"in":"query","description":"search text","schema":{"type":"string"}},{"name":"fields","required":true,"in":"query","description":"field to search, splitted by comma","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit of response libraries","schema":{"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset of response libraries","schema":{"type":"number"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["libraries"]}},"/ilp-campaign-service/v1/libraries/{id}":{"get":{"operationId":"LibrariesController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["libraries"]},"patch":{"operationId":"LibrariesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLibraryDto"}}}},"responses":{"200":{"description":""}},"tags":["libraries"]},"delete":{"operationId":"LibrariesController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["libraries"]}},"/ilp-campaign-service/v1/categories":{"get":{"operationId":"CategoriesController_getAll","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit","schema":{"default":10,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset","schema":{"default":0,"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"default":1,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["categories"]},"post":{"operationId":"CategoriesController_create","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":""}},"tags":["categories"]}},"/ilp-campaign-service/v1/categories/search":{"get":{"operationId":"CategoriesController_search","parameters":[{"name":"text","required":true,"in":"query","description":"search text","schema":{"type":"string"}},{"name":"fields","required":true,"in":"query","description":"field to search, splitted by comma","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit of response libraries","schema":{"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset of response libraries","schema":{"type":"number"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["categories"]}},"/ilp-campaign-service/v1/categories/{id}":{"get":{"operationId":"CategoriesController_get","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["categories"]},"patch":{"operationId":"CategoriesController_update","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":""}},"tags":["categories"]},"delete":{"operationId":"CategoriesController_delete","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["categories"]}},"/ilp-campaign-service/v1/categories/{id}/libraries/count":{"get":{"operationId":"CategoriesController_countLibraries","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["categories"]}},"/ilp-campaign-service/v1/categories/{id}/libraries":{"get":{"operationId":"CategoriesController_getLibraries","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit","schema":{"default":10,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset","schema":{"default":0,"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"default":1,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["categories"]}},"/ilp-campaign-service/v1/categories/{id}/libraries/search":{"get":{"operationId":"CategoriesController_searchLibraries","parameters":[{"name":"text","required":true,"in":"query","description":"search text","schema":{"type":"string"}},{"name":"fields","required":true,"in":"query","description":"field to search, splitted by comma","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"limit of response libraries","schema":{"type":"number"}},{"name":"sort","required":false,"in":"query","description":"sort","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","description":"offset of response libraries","schema":{"type":"number"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["categories"]}},"/ilp-campaign-service/v1/plans/{id}":{"get":{"operationId":"PlansController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["plans"]}},"/ilp-campaign-service/v1/plans":{"post":{"operationId":"PlansController_create","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePlanDto"}}}},"responses":{"201":{"description":""}},"tags":["plans"]}},"/ilp-campaign-service/v1/plans/{id}/overlays":{"patch":{"operationId":"PlansController_attachOverlay","parameters":[{"name":"X-App-Id","required":true,"in":"header","schema":{"type":"string"}},{"name":"ids","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["plans"]}}}}